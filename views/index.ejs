<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Razorpay Payment</title>
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-image: url('data:image/jpeg;base64,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');
            background-size: cover;
            background-position: center;
            color: #333;
        }

        .container {
            display: flex;
            flex-direction: row;
            width: 90%;
            max-width: 1200px;
            background-color: rgba(255, 255, 255, 0.9);
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        .image-section {
            flex: 1;
            background: url('https://cdn2.iconfinder.com/data/icons/miscellaneous-210-color-shadow/128/exchange_money_transfer_rupee_finance_recycling_currency_convert_arrow_swap_transaction_economic-512.png') no-repeat center center;
            background-size: cover;
        }

        .content-section {
            flex: 1;
            padding: 2em;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        h1 {
            font-size: 2em;
            margin-bottom: 0.5em;
            color: #007BFF;
        }

        #payment-message {
            font-size: 1.5em;
            margin-bottom: 1em;
            color: #007BFF;
        }

        #rzp-button1 {
            background-color: #007BFF;
            color: #fff;
            border: none;
            padding: 1em 2em;
            font-size: 1em;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        #rzp-button1:hover {
            background-color: #c85038;
        }

        .fact-box {
            background: rgba(255, 255, 255, 0.8);
            color: #000;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: left;
            width: 90%;
        }

        .fact-box h2 {
            margin-top: 0;
            color: #007BFF;
        }

        form {
            display: flex;
            flex-direction: column;
            width: 100%;
            max-width: 400px;
            margin-bottom: 20px;
        }

        input[type="text"], input[type="email"] {
            padding: 0.5em;
            margin-bottom: 1em;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 1em;
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }

            .image-section, .content-section {
                flex: none;
                width: 100%;
            }

            .content-section {
                padding: 1em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="image-section"></div>
        <div class="content-section">
            <div class="fact-box">
                <h2>Benefits of Online Payments</h2>
                <p>Online payments offer convenience, speed, and security. They eliminate the need for physical cash, provide instant transactions, and ensure secure handling of your financial data. Embrace the future of payments with ease and confidence.</p>
            </div>
            <h1>Pay with Razorpay</h1>
            <div id="payment-message">Pay â‚¹200 to Buy Subscription</div>
            
            <form id="payment-form">
                <input type="text" id="name" name="name" placeholder="Enter your name as per Aadhaar" required>
                <input type="email" id="email" name="email" placeholder="Enter your email" required>
                <input type="text" id="mobile" name="mobile" placeholder="Enter your Mobile number" required>
                <button type="submit" id="rzp-button1">Pay</button>
            </form>
        </div>
    </div>

    <script>
        document.getElementById('rzp-button1').onclick = async function (e) {
            e.preventDefault();

            const name = document.getElementById('name').value;
            const gmail = document.getElementById('email').value;
            const mobile = document.getElementById('mobile').value;

            if (!name || !gmail||!mobile) {
                alert("Please fill in both fields");
                return;
            }

            const response = await fetch('/order', { method: 'POST' });
            const order = await response.json();

            const options = {
                "key": "<%= process.env.RZP_KEY_ID %>", // Replace with your API key
                "amount": order.amount, // Amount is in the smallest currency unit
                "currency": order.currency,
                "name": "BharaKetNagrik App",
                "description": "Test Transaction",
                "order_id": order.id,
                "handler": function (response){
                    fetch('/verify', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(response)
                    })
                    .then(res => res.json())
                    .then(data => {
                        alert(`Payment Successful! Payment email: &email=${email}`);
                        window.location.href = `/successPay?payment_id=${data.payment_id}&order_id=${data.order_id}&amount=${200}&gmail=${gmail}`;
                    })
                    .catch(error => {
                        console.log(error);
                        alert("Payment Failed !!");
                    });
                },
                "prefill": {
                    "name": name,
                    "email": gmail,
                    "contact": mobile
                },
                "theme": {
                    "color": "#F37254"
                }
            };
            const rzp1 = new Razorpay(options);
            rzp1.open();
        }
    </script>
</body>
</html>